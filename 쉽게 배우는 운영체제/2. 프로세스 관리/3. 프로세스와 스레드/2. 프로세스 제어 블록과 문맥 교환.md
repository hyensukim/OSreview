# 프로세스 제어 블록
- 프로세스 제어 블록(PCB)은 프로세스를 실행하는데 필요한 중요 정보를 담고 있는 자료구조이다.

## 프로세스 제어 블록 구성

![그림](https://raw.githubusercontent.com/hyensukim/OSreview/master/images/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%20%EA%B4%80%EB%A6%AC/KakaoTalk_20230613_133352106_01.jpg)

- 포인터 
    - 블록의 첫번째 위치.
    - 준비 상태나 대기 상태는 큐로 운영되는데, PCB를 연결하여 이를 구현할 때 포인터를 사용한다.
- 프로세스 상태
    - 블록의 두번째 위치.
    - 프로세스가 현재 어떤 상태인지 나타낸다.
- 프로세스 구분자
    - 운영체제 내에 있는 여러 프로세스를 구분하기 위한 구분자를 저장.
- 프로그램 카운터
    - 다음에 실행될 명령어의 위치를 가리키는 프로그램 카운터의 값을 저장한다.
- 프로세스 우선순위
    - 프로세스의 중요도에 따라 다른 우선순위를 갖는다.
    - CPU 스케줄러가 준비 상태를 실행 상태로 옮겨야할 프로세스 선택 시 우선순위를 기준으로 정한다.
- 각종 레지스터 정보
    - 프로세스가 실행될 때 사용하던 레지스터 값이 저장된다.
    - 이전에 실행 시 사용한 레지스터의 값을 보고나해야 다음에 실행할 수 있기 때문에 자신이 사용하던 레지스터의 중간값을 보관.
- 메모리 관련 정보
    - 프로세스가 메모리의 어디에 있는지 나타내는 메모리 위치 정보, 메모리 보호를 위해 사용하는 경계 레지스터 값과 한계 레지스터 값.
- 할당된 자원 정보
    - 프로세스를 실행하기 위해 사용하는 입출력 자원이나 오픈 파일 등에 대한 정보.
- 계정 정보
    - 계정 번호, CPU 할당 시간, CPU 사용 시간 등에 대한 정보.
- 부모 프로세스 구분자와 자식 프로세스 구분자
    - PPID(부모), CPID(자식)

## 문맥교환(context switching)
- 문맥 교환 : CPU를 차지하던 프로세스가 나가고 새로운 프로세스를 받아들이는 작업.
- 문맥 교환 절차
    ![그림](https://raw.githubusercontent.com/hyensukim/OSreview/master/images/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%20%EA%B4%80%EB%A6%AC/KakaoTalk_20230613_133352106_02.jpg)
- 문맥교환과 타입 슬라이스의 크기
    - 타임 슬라이스가 너무 크면, 한 프로세스의 작업이 끝난 뒤 다른 프로세스의 작업이 이뤄질 때까지 긴 시간이 걸려 작업이 끊겨 보인다.
    - 타임 슬라이스가 너무 작으면, 프로세스 작업 시간보다 문맥 교환시간이 더 걸리게 되어 시스템의 성능이 너무 떨어진다.
    - 결론적으로 타임 슬라이스는 되도록 작게 설정하되 문맥 교환에 걸리는 시간을 고려하여 적당한 크기로 설정하는 것이 중요하다.