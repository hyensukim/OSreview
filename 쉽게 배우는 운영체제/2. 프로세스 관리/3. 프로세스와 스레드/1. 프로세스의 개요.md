# 프로세스의 개념
- 프로그램은 저장장치에 저장된 정적인 상태이고, 프로세스는 실행을 위해 메모리에 올라온 동적인 상태이다.

# 프로그램에서 프로세스로의 전환
## 과정
- 운영체제는 프로그램을 메모리의 적당한 위치로 가져온다.(폰노이만 구조의 특징)
- 운영체제는 프로그램 실행관련 다양한 정보를 담은 **프로세스 제어 블록(PCB)**을 만들어 전달한다.
    - PCB
    ```
    - 프로세스 제어 블록에는 프로세스를 처리하는 데 필요한 다양한 정보가 들어 있다.
    - 대표 정보 3가지
        1. 프로세스 구분자 : 메모리 안에 여러 프로세스가 존재하기 때문에 프로세스마다 구분하는 구분자가 필요하다.
        2. 메모리 관련 정보 : 프로세스의 메모리 위치 정보 및 메모리 보호를 위한 경계/한계 레지스터 정보가 있다.
        3. 각종 중간값 : 프로세스가 사용했던 중간값이 저장된다.(시분할 시스템)
    ```
- 프로그램이 프로세스가 된다는 것은 운영체제로 부터 프로세스 제어 블록을 얻는다는 뜻이고, 프로세스가 종료된다는 것은 해당 프로세스 제어 블록이 폐기 된다는 뜻이다.
- <mark>중요한 점은 컴퓨터 내에 일반 사용자가 실행한 사용자 프로세스 이외에도 운영체제의 커널 프로세스가 섞여서 실행된다는 점이다.</mark>

# 프로세스의 상태
## 프로세스의 기본 상태
- `생성 상태` :프로세스가 메모리에 올아와 실행 준비를 완료한 상태로, PCB가 생성된다.
- `준비 상태` : 생성된 프로세스가 CPU를 얻을 때까지 기다리는 상태.
    - CPU가 하나인 컴퓨터에서는 한번에 하나의 프로세스만 실행할 수 있기 때문에 자기 실행 순서를 기다려야한다.
- `실행 상태` : 준비 상태에 있는 프로세스 중 하나가 CPU를 얻어 실제 작업을 수행하는 상태.
    - 주어진 시간 안에 작업이 끝나지 않은 경우, 프로세스는 다시 준비 상태로 돌아가 다음의 차례를 기다린다.
- `완료 상태` : 실행 상태의 프로세스가 주어진 시간 동안 작업을 마치면 완료 상태로 진입하고, 프로세스 제어 블록이 폐기된다.
    - 만약, 오류나 다른 프로세스에 의해 비정상적으로 종료되는 강제 종료 시에 디버깅을 위해 강제 종료 직전의 메모리 상태를 저장장치로 옮기게 되는데 이를 '코어 덤프'라고 한다.

> 관련 개념
- 타임 슬라이스(타임 퀀텀) : 시분할 시스템에서, 분할된 시간 단위로 프로세스에 배당된 작업 시간을 말한다.
- CPU 스케줄러 : 준비 상태에 있는 여러 프로세스 중 다음에 실행할 프로세스를 선정하는 일을 담당.
- 디스패치(dispatch) : 준비 상태의 프로세스 중 하나를 골라 실행 상태로 바꾸는 CPU 스케줄러의 작업.
- 타임아웃(time-out) : 타임 슬라이스 동안 작업을 끝내지 못하면 다시 준비상태로 돌아가는 것.
    - CPU는 타임 슬라이스의 시간이 흐른 뒤 알림을 클록에 요청하며, 클록은 일정 시간이 다 되면 인터럽트를 사용하여, CPU에게 알려준다.

## 프로세스의 다섯 가지 상태
- 기본 상태 + 대기 상태
- `대기 상태` : 입출력을 요구한 프로세스가 입출력이 완료될 때까지 기다리는 상태.
    - 어떤 프로세스가 실행 상태에서 입출력을 요구한 경우, CPU는 입출력 관리자에게 명령을 내린 뒤 인터럽트 발생 시까지 기다리게 되어 작업의 효율성이 떨어지게 된다.
    - 이를 개선하기 위해 대기 상태를 추가하였으며, 대기 상태의 프로세스는 요청한 입출력이 완료되면 입출력 관리자로부터 인터럽트를 받는다.
    - 해당 프로세스는 실행 상태로 가지 않고 준비 상태로 돌아가 자기 차례를 기다린다.

## 휴식 상태와 보류 상태
- 대부분의 프로세스는 다섯 가지 상태로 운영되며 이를, '활성 상태'라고 한다.
- `휴식 상태`
    - 프로세스가 작업을 일시적으로 쉬고 있는 상태.
    - 사용하던 데이터가 메모리에 그대로 있고 PCB도 유지된 상태.
- `보류 상태`
    - 프로세스가 메모리에서 잠시 쫒겨난 상태.(일시 정지 상태)
    - 프로세스가 보류 상태 되는 경우.
        - 메모리가 꽉 찬 경우.
        - 프로그램에 오류가 있어서 실행을 미뤄야 하는 경우.
        - 바이러스와 같이 악의적인 공격을 하는 프로세스라고 판단되는 경우.
        - 매우 긴 주기로 반복되는 프로세스라 메모리 밖으로 쫓아내도 큰 문제가 없는 경우.
        - 입출력을 기다리는 프로세스의 입출력이 계속 지연되는 경우.
    - 보류 상태에 들어간 프로세스는 '스왑 영역'이라는 임시 보관소에 보관된다.
    - 보류 대기 상태 : 대기 상태에서 보류 상태로 옮겨진 경우
    - 보류 준비 상태 : 준비 상태에서 보류 상태로 옮겨진 경우
    - 보류 대기 상태에서 입출력 완료 시 보류 준비 상태로 옮겨 간다.